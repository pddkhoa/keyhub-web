import{c as A,p as y,h as f,i as k,j as L,k as S,R as E,q as R,s as C,m as e,t as o,I as m,C as b,B as j,n as P,S as T,v as O,w as D,x as q,y as v,a8 as U,u as N,e as V,aN as I,aO as M,aP as $,V as z,o as G,L as W,ab as X,a2 as H}from"./index-5cc48746.js";import{E as Q}from"./editAccount-a4229f09.js";import{X as p}from"./x-db8991d3.js";const Y=A("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Z=({data:s,passwordCurrent:i})=>{const{isLoading:h,sendRequest:x}=y(),[t,u]=f.useState({length:!1,lowercase:!1,uppercase:!1,number:!1,specialChar:!1,space:!1}),c=d=>{const r=d.target.value;l.setFieldValue("password",r);const a=/\s/.test(r),n=r.length>=8,g=/[a-z]/.test(r),F=/[A-Z]/.test(r),B=/[0-9]/.test(r),_=/[@#$%^_&+=]/.test(r);u({length:n,lowercase:g,uppercase:F,number:B,specialChar:_,space:a})},l=k({initialValues:{email:"",password:"",confirmPass:""},validationSchema:L().shape({password:S().matches(E.password,"Password invalid").required("required"),confirmPass:S().oneOf([R("password")],"Confirm password not match.").required("Confirm password is required.")}),validateOnChange:!0,onSubmit:async d=>{const r={email:s.email,old_pass:d.password,new_pass:d.confirmPass};x({type:C.RESETPASSWORD,data:r})}});return e.jsx("form",{onSubmit:l.handleSubmit,children:e.jsx("div",{className:"grid w-full items-center gap-4",children:e.jsxs("div",{className:"flex flex-col space-y-5 py-4",children:[e.jsxs("div",{className:"relative px-2",children:[e.jsx(o,{htmlFor:"password_current",className:"text-md text-title-foreground",children:"Password Current"}),e.jsx(m,{type:"password",id:"password_current",name:"password_current",value:i,disabled:!0,className:"w-full bg-input border  border-border"})]}),e.jsxs("div",{className:"relative px-2",children:[e.jsx(o,{htmlFor:"passNew",className:"text-md text-title-foreground",children:"Password New"}),e.jsx(m,{type:"password",id:"password",name:"password",onBlur:l.handleBlur,onChange:c,value:l.values.password,placeholder:"Password",className:"w-full bg-input border  border-border"}),e.jsx("div",{className:"absolute inset-y-0 right-0 top-6 flex items-center pr-3 pointer-events-none",children:l.errors.password&&l.touched.password?e.jsx(p,{className:"text-red-500"}):null})]}),e.jsxs("div",{className:"relative px-2",children:[e.jsx(o,{htmlFor:"confirmPass",className:"text-md text-title-foreground flex justify-between",children:"Confirm Password"}),e.jsx(m,{type:"password",id:"confirmPass",name:"confirmPass",onChange:l.handleChange,onBlur:l.handleBlur,value:l.values.confirmPass,placeholder:"Confirm Password",className:"w-full text-sm px-4 py-3 rounded-lg"}),e.jsx("div",{className:"absolute inset-y-0 right-0 top-6 flex items-center pr-3 pointer-events-none",children:l.errors.confirmPass&&l.touched.confirmPass?e.jsx(p,{className:"text-red-500"}):null})]}),e.jsxs("div",{className:"my-2 relative w-96 p-6",children:[e.jsx(o,{className:"text-white",children:"Requirements"}),e.jsxs("ul",{className:"space-y-2 ml-2",children:[e.jsxs("li",{className:`text-sm flex justify-between border-b-2 items-center w-full ${t.length?"text-green-500":"text-red-500"}`,children:[e.jsx("span",{children:"At least 8 characters"}),t.length?e.jsx(b,{}):e.jsx(p,{})]}),e.jsxs("li",{className:`text-sm flex justify-between border-b-2 w-full ${t.lowercase?"text-green-500":"text-red-500"}`,children:[e.jsx("span",{children:"At least one lowercase letter"}),t.lowercase?e.jsx(b,{}):e.jsx(p,{})]}),e.jsxs("li",{className:`text-sm flex justify-between border-b-2 w-full ${t.uppercase?"text-green-500":"text-red-500"}`,children:[e.jsx("span",{children:"At least one uppercase letter"}),t.uppercase?e.jsx(b,{}):e.jsx(p,{})]}),e.jsxs("li",{className:`text-sm flex justify-between border-b-2 w-full ${t.number?"text-green-500":"text-red-500"}`,children:[e.jsx("span",{children:"At least one number"}),t.number?e.jsx(b,{}):e.jsx(p,{})]}),e.jsxs("li",{className:`text-sm flex justify-between border-b-2 w-full ${t.specialChar?"text-green-500":"text-red-500"}`,children:[e.jsx("span",{children:"At least one special character"}),t.specialChar?e.jsx(b,{}):e.jsx(p,{})]}),e.jsxs("li",{className:`text-sm flex justify-between border-b-2 w-full ${t.space?"text-red-500":"text-green-500"}`,children:[e.jsx("span",{children:"Password cannot contain spaces"}),t.space?e.jsx(p,{}):e.jsx(b,{})]})]})]}),e.jsxs("div",{className:"px-5 py-2 border-t flex justify-end items-center gap-2",children:[e.jsx("button",{type:"button",className:"px-5 py-1.5  float-right text-base font-medium rounded text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Close"}),h?e.jsxs(j,{disabled:!0,children:[e.jsx(P,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):e.jsx(j,{type:"submit",disabled:l.isSubmitting||!l.isValid,children:"Save"})]})]})})})},J=({data:s})=>{const{isLoading:i,sendRequest:h}=y(),[x,t]=f.useState("Male"),[u,c]=f.useState(s.descriptions||""),[l,d]=f.useState(u.length),r=n=>{const g=n.target.value;a.setFieldValue("descriptions",g),c(g),d(g.length)},a=k({initialValues:{email:s.email,name:s.name,phone:s.phone,second_name:s.second_name,gender:s.gender,descriptions:s.descriptions,address:s.address,company:s.company,country:s.country,school:s.school},onSubmit:async n=>{const g={email:n.email,name:n.name,phone:n.phone,second_name:n.second_name,gender:n.gender,descriptions:n.descriptions,address:n.address,company:n.company,country:n.country,school:n.school};h({type:C.UPDATE_USER,data:g})}});return e.jsx("div",{className:"",children:e.jsx("form",{onSubmit:a.handleSubmit,children:e.jsxs("div",{className:"grid w-full items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col space-y-5 py-4",children:[e.jsxs("div",{className:"relative px-2",children:[e.jsx(o,{htmlFor:"name",className:"text-md text-title-foreground",children:"Full Name"}),e.jsx(m,{id:"name",type:"text",name:"name",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.name,className:"w-full text-sm px-4 py-3  rounded-lg",placeholder:s.name})]}),e.jsxs("div",{className:"relative px-2",children:[e.jsx(o,{htmlFor:"second_name",className:"text-md text-title-foreground",children:"Second Name"}),e.jsx(m,{id:"second_name",type:"text",name:"second_name",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.second_name,placeholder:s.second_name,className:"w-full text-sm px-4 py-3  rounded-lg"})]}),e.jsxs("div",{className:"relative px-2",children:[e.jsx(o,{htmlFor:"phone",className:"text-md text-title-foreground",children:"Phone"}),e.jsx(m,{id:"phone",type:"text",name:"phone",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.phone,placeholder:s.phone,className:"w-full text-sm px-4 py-3  rounded-lg"})]}),e.jsx("div",{className:"relative px-2",children:e.jsxs("div",{className:"relative  flex flex-col",children:[e.jsx(o,{className:"text-sm text-title-foreground",children:"Gender"}),e.jsx("span",{className:"my-2 text-sm w-full",children:e.jsxs(T,{name:"gender",onValueChange:t,defaultValue:x,children:[e.jsx(O,{className:"w-full text-sm",children:e.jsx(D,{placeholder:"Gender"})}),e.jsxs(q,{children:[e.jsx(v,{value:"Male",children:"Male"}),e.jsx(v,{value:"Femnale",children:"Female"}),e.jsx(v,{value:"Other",children:"Other"})]})]})})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-5 px-2",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx(o,{htmlFor:"country",className:"text-md text-title-foreground",children:"Country"}),e.jsx(m,{id:"country",type:"text",name:"country",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.country||"nothing",placeholder:s.country||"nothing",className:"w-full text-sm px-4 py-3  rounded-lg"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx(o,{htmlFor:"address",className:"text-md text-title-foreground",children:"Address"}),e.jsx(m,{id:"address",type:"text",name:"address",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.address||"nothing",placeholder:s.address||"nothing",className:"w-full text-sm px-4 py-3  rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5 px-2",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx(o,{htmlFor:"school",className:"text-md text-title-foreground",children:"School"}),e.jsx(m,{id:"school",type:"text",name:"school",onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.school||"nothing",placeholder:s.school||"nothing",className:"w-full text-sm px-4 py-3  rounded-lg"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx(o,{htmlFor:"second_name",className:"text-md text-title-foreground",children:"Comany"}),e.jsx(m,{id:"second_name",type:"text",name:"second_name",className:"w-full text-sm px-4 py-3  rounded-lg"})]})]})]}),e.jsx("div",{className:"grid w-full items-center gap-4",children:e.jsx("div",{className:"flex flex-col space-y-2",children:e.jsxs("div",{className:"relative px-2 py-2",children:[e.jsx(o,{htmlFor:"descriptions",className:"text-md text-title-foreground",children:"Bio"}),e.jsx(U,{id:"descriptions",name:"descriptions",placeholder:"Tell us a little bit about yourself",maxLength:150,onBlur:a.handleBlur,value:a.values.descriptions||"nothing",onChange:r}),e.jsxs("div",{className:"float-right text-sm text-title-foreground",children:["Characters remaining: ",l,"/150"]})]})})}),e.jsxs("div",{className:" py-2 border-t",children:[i?e.jsxs(j,{className:"px-5 py-1.5 float-right",disabled:!0,children:[e.jsx(P,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):e.jsx(j,{type:"submit",className:"px-5 py-1.5 float-right",disabled:a.isSubmitting||!a.isValid,children:"Save"}),e.jsx("button",{type:"button",className:"px-5 py-1.5  float-right text-base font-medium rounded text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Close"})]})]})})})},K=({setFlag:s})=>{const i=N(d=>d.user.detail.data.avatar),[h,x]=f.useState(i||"");console.log(h);const t=V(),{isLoading:u,sendRequest:c}=y(),l=async d=>{try{if(d){const r=new FormData;r.append("image_file",d),await c({type:C.UPLOAD_AVATAR,data:r}),x(i||"")}}catch(r){console.error("Error uploading file:",r)}};return e.jsx("div",{className:"w-1/3 h-fit 2xl:w-xl sm:x-0   overflow-y-scroll",children:e.jsxs("div",{className:"w-full bg-gray-900  rounded-xl",children:[e.jsx("div",{className:" py-2 flex justify-end space-x-5 shadow border-b-2 px-4",children:e.jsx("button",{className:"block w-6 h-6 p-0.5 hover:text-white hover:bg-red-500 rounded-full text-gray-500 transition-colors",onClick:s.off,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-full h-full",children:e.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})}),e.jsxs("form",{onSubmit:d=>d.preventDefault(),className:"mt-4 space-y-3 p-4",children:[e.jsx("div",{className:"grid grid-cols-1 space-y-2",children:e.jsx("div",{className:"py-2 rounded w-full mx-auto",children:i?e.jsxs("div",{className:"relative flex flex-col space-y-3  p-4 text-title-foreground border border-border rounded",children:[e.jsx("div",{className:"relative  h-60  text-title-foreground border border-border  border-dashed rounded-lg cursor-pointer",children:e.jsx("img",{src:i,className:"w-full h-full object-cover rounded-lg"})}),e.jsx("div",{className:"border"}),e.jsx("div",{className:"flex justify-center w-full ",children:e.jsx(j,{className:"bg-red-600",type:"button",onClick:()=>{t(I(void 0)),x("")},children:e.jsx(M,{})})})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",onChange:d=>{l(d.target.files[0])},id:"input-file",hidden:!0}),e.jsx("label",{htmlFor:"input-file",className:"relative flex flex-col p-4 text-title-foreground border border-title-foreground rounded",children:e.jsx("div",{"x-ref":"dnd",className:"relative flex flex-col text-title-foreground border border-border  border-dashed rounded cursor-pointer",children:e.jsx("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:u?e.jsx("div",{className:"inline-block h-20 w-20 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-primary motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:e.jsx("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded-full p-2.5 bg-input hover:brightness-75 cursor-pointer text-title-foreground",children:e.jsx($,{})}),e.jsx("p",{className:"m-0",children:"Click in this area to add new post"})]})})})})]})})}),e.jsx("p",{className:"text-sm text-gray-300",children:e.jsx("span",{children:"File type: types of images"})})]})]})})},te=()=>{const[s,i]=f.useState("ACCOUNT"),[h,x]=f.useState(!1),[t,u]=z(!1),c=N(n=>n.user.detail.data),{data:l}=N(n=>n.auth.login),{userDetails:d}=G(l.token),r=d.password,a=()=>{switch(s){case"ACCOUNT":return e.jsx(Q,{data:c});case"PASSWORD":return e.jsx(Z,{data:c,passwordCurrent:r});case"PROFILE":return e.jsx(J,{data:c});default:return null}};return e.jsx("div",{className:"container h-fit py-20 px-20",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(W,{to:"/profile",className:"text-blue-700 cursor-pointer hover:brightness-150",children:"Back"}),e.jsx("div",{className:" bg-gray-900 text-gray-300 p-4 dark:bg-white/70 dark:text-black rounded-xl border",children:e.jsxs("div",{className:"flex flex-wrap gap-5",children:[e.jsxs("div",{className:"flex-none sm:flex p-2 pb-5 border-b-2 w-full ",children:[e.jsxs("div",{className:" relative h-24 w-24   sm:mb-0 mb-5",children:[e.jsx(X,{size:100}),e.jsx("button",{onClick:()=>{u.on(),x(!0)},className:"absolute -right-4  bottom-0  text-white  bg-gray-800 p-1.5 font-medium hover:brightness-150 tracking-wider rounded-full transition ease-in duration-300",children:e.jsx(Y,{})})]}),e.jsx("div",{className:"flex-auto ml-10  justify-evenly",children:e.jsxs("div",{className:"flex flex-col mt-7",children:[e.jsx("span",{className:"text-2xl text-gray-300 dark:text-black",children:c.name}),e.jsxs("span",{className:"text-lg text-blue-700",children:["@",c.second_name]})]})})]}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex flex-wrap justify-end gap-5",children:[e.jsx(j,{}),e.jsx(j,{})]})})]})}),e.jsx("div",{className:" bg-gray-900 dark:text-black dark:bg-white text-gray-300 gap-5 p-4 rounded-xl border",children:e.jsxs("div",{className:"md:flex",children:[e.jsxs("ul",{className:"flex-column space-y space-y-4 text-sm font-medium text-gray-500 pr-2 dark:text-gray-400 md:me-4 mb-4 md:mb-0 border-r",children:[e.jsx(w,{title:"Account",tabs:"ACCOUNT",setTabs:i,activeTab:s}),e.jsx(w,{title:"Profile",tabs:"PROFILE",setTabs:i,activeTab:s}),e.jsx(w,{title:"Password",tabs:"PASSWORD",setTabs:i,activeTab:s})]}),e.jsx("div",{className:"mx-8 bg-gray-900 dark:bg-white dark:text-black text-medium text-gray-500 dark:text-gray-400  rounded-lg w-full",children:a()})]})}),e.jsx(H,{flag:t,closeModal:u.off,children:h?e.jsx(K,{setFlag:u}):null})]})})},w=({tabs:s,setTabs:i,title:h,activeTab:x})=>{const t=()=>{i(s)};return e.jsx("li",{children:e.jsx("div",{onClick:t,className:`inline-flex items-center px-4 py-3 rounded-lg  cursor-pointer  hover:bg-blue-700 w-full hover:text-white ${x===s?"text-white bg-blue-700 active ":"bg-input text-white"}`,children:h})},s)};export{w as TabListItems,te as default};
