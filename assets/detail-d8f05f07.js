import{m as e,a_ as L,a$ as E,aY as p,b0 as k,f as S,U as b,p as j,u as C,h as m,s as f,e as D,B as g,b5 as F,aN as T,aO as I,V as B,a2 as R,i as _,j as O,k as N,R as y,t as v,I as U,a8 as A,n as M,ae as V}from"./index-c21ad5af.js";import{T as w}from"./accountDetail-78ca6a71.js";import{H as x,B as Y}from"./dayjs.min-ff1007e9.js";import{f as u}from"./formate-date-8ce369ba.js";import"./editAccount-0686759a.js";import"./createClass-29b6f7d2.js";const P=({sortConfig:s,onHeaderCellClick:r,index:i})=>[{title:e.jsx(x,{title:"#"}),dataIndex:"id",key:"id",width:50,render:t=>t},{title:e.jsx(x,{title:"Author"}),dataIndex:"users",key:"users",width:150,render:(t,a)=>e.jsx(e.Fragment,{children:e.jsx(W,{src:a.avatar,name:a.name,description:`@-${a.username}`})})},{title:e.jsx(x,{title:"Email"}),dataIndex:"email",key:"email",width:100,render:t=>t},{title:e.jsx(x,{title:"Phone"}),dataIndex:"phone",key:"phone",width:100,render:t=>t},{title:e.jsx(x,{title:"Created",sortable:!0,ascending:(s==null?void 0:s.direction)==="asc"&&(s==null?void 0:s.key)==="createDate"}),onHeaderCell:()=>r("createDate"),dataIndex:"createDate",key:"createDate",width:200,render:t=>e.jsx(q,{date:t})},{title:e.jsx(x,{align:"center",title:"Action"}),dataIndex:"action",key:"action",width:200,render:(t,a)=>e.jsx("div",{className:"flex items-center justify-center gap-3 ",children:e.jsx(L,{size:"sm",content:()=>"View Invoice",placement:"top",className:"bg-gray-200 [&>svg]:fill-gray-100 ",color:"invert",children:e.jsx(E,{tag:"span",size:"sm",variant:"outline",className:"hover:brightness-150 cursor-pointer",children:e.jsx(G,{className:"h-4 w-4",data:a,index:i})})})})}];function q({date:s,className:r,timeClassName:i,dateClassName:t,dateFormat:a="MMMM D, YYYY",timeFormat:n="h:mm A"}){return e.jsxs("div",{className:p(r,"grid gap-1"),children:[e.jsx("time",{dateTime:u(s,"YYYY-MM-DD"),className:p("font-medium text-white",t),children:u(s,a)}),e.jsx("time",{dateTime:u(s,"HH:mm:ss"),className:p("text-[13px] text-gray-400",i),children:u(s,n)})]})}function W({src:s,name:r,className:i,description:t,avatarProps:a}){return e.jsx("figure",{className:p("flex items-center gap-3",i),children:e.jsxs("figcaption",{className:" gap-5 items-center  flex",children:[e.jsx(k,{name:r,src:s,...a}),e.jsxs("div",{className:"flex flex-col mt-1",children:[e.jsx("div",{className:"font-lexend text-sm font-medium text-white",children:r}),e.jsx("div",{className:"text-sm  text-gray-400",children:t})]})]})})}function G({strokeWidth:s,onClick:r,data:i,index:t,...a}){const n=S(),d=()=>{r?r():n(`/admin/users/${i.id}`,{state:{rowData:i,indexPage:t}})};return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:s??1.5,stroke:"currentColor",onClick:d,...a,children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}const H=()=>{const{id:s}=b(),{isLoading:r,sendRequest:i}=j(),t=C(a=>a.categories.listUserFollowCate);return m.useEffect(()=>{i({type:f.GET_LIST_USER_FOLLOW_CATE,slug:s})},[]),e.jsx("div",{className:"grid grid-cols-1 px-20 gap-6 pl-16  h-full 3xl:gap-8 shadow-2xl py-8 ",children:r?e.jsx("div",{children:"Loading..."}):e.jsx(Y,{variant:"classic",title:"Classic Table",className:"opacity-90  shadow-2xl bg-gray-800 outline-none",data:t,enableSearch:!0,enablePagination:!0,getColumns:P})})},z=({setFlag:s,avatar:r})=>{const{id:i}=b(),t=D(),{isLoading:a,sendRequest:n}=j(),d=async o=>{try{if(o){const l=new FormData;l.append("file",o),await n({type:f.UPLOAD_AVATAR_CATEGORIES,data:l,slug:i})}}catch(l){console.error("Error uploading file:",l)}};return e.jsx("div",{className:"w-1/3 h-fit 2xl:w-xl sm:x-0   overflow-y-scroll",children:e.jsxs("div",{className:"w-full bg-gray-900  rounded-xl",children:[e.jsx("div",{className:" py-2 flex justify-end space-x-5 shadow border-b-2 px-4",children:e.jsx("button",{className:"block w-6 h-6 p-0.5 hover:text-white hover:bg-red-500 rounded-full text-gray-500 transition-colors",onClick:s.off,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-full h-full",children:e.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})}),e.jsxs("form",{onSubmit:o=>o.preventDefault(),className:"mt-4 space-y-3 p-4",children:[e.jsx("div",{className:"grid grid-cols-1 space-y-2",children:e.jsx("div",{className:"py-2 rounded w-full mx-auto",children:r?e.jsxs("div",{className:"relative flex flex-col space-y-3  p-4 text-title-foreground border border-border rounded",children:[e.jsx("div",{className:"relative  h-60  text-title-foreground border border-border  border-dashed rounded-lg cursor-pointer",children:e.jsx("img",{src:r,className:"w-full h-full object-cover rounded-lg"})}),e.jsx("div",{className:"border"}),e.jsx("div",{className:"flex justify-center w-full ",children:e.jsx(g,{className:"bg-red-600",type:"button",onClick:()=>{t(F())},children:e.jsx(T,{})})})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",onChange:o=>{d(o.target.files[0])},id:"input-file",hidden:!0}),e.jsx("label",{htmlFor:"input-file",className:"relative flex flex-col p-4 text-title-foreground border border-title-foreground rounded",children:e.jsx("div",{"x-ref":"dnd",className:"relative flex flex-col text-title-foreground border border-border  border-dashed rounded cursor-pointer",children:e.jsx("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:a?e.jsx("div",{className:"inline-block h-20 w-20 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-primary motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:e.jsx("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded-full p-2.5 bg-input hover:brightness-75 cursor-pointer text-title-foreground",children:e.jsx(I,{})}),e.jsx("p",{className:"m-0",children:"Click in this area to add new post"})]})})})})]})})}),e.jsx("p",{className:"text-sm text-gray-300",children:e.jsx("span",{children:"File type: types of images"})})]})]})})},$=({data:s})=>{var l,c;const[r,i]=m.useState("OVERVIEW"),[t,a]=m.useState(!1),[n,d]=B(!1),o=()=>{switch(r){case"OVERVIEW":return e.jsx(Q,{data:s});case"USER_FOLLOW":return e.jsx(H,{});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex  border-b p-6",children:e.jsxs("div",{className:"w-full  p-8 sm:flex sm:space-x-6 bg-gray-900 text-gray-100",children:[e.jsx("div",{className:"flex-shrink-0  mb-6 h-36  w-36 sm:mb-0",children:e.jsx("img",{src:(l=s==null?void 0:s.avatar)==null?void 0:l.toString(),alt:"",className:"object-cover object-center w-full h-full rounded bg-gray-500"})}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-2xl font-semibold",children:s==null?void 0:s.name})}),e.jsx("div",{children:s==null?void 0:s.description}),e.jsx("div",{className:"mt-4",children:e.jsx(g,{onClick:()=>{d.on(),a(!0)},variant:"gradient",className:"rounded-sm",children:"Upload New Avatar"})})]})]})}),e.jsxs("ul",{className:"grid grid-flow-col text-center text-gray-500",children:[e.jsx(w,{title:"Overview",tabs:"OVERVIEW",setTabs:i,activeTab:r}),e.jsx(w,{title:"User Follow",tabs:"USER_FOLLOW",setTabs:i,activeTab:r})]}),e.jsx("div",{className:" text-medium text-gray-500 dark:text-gray-400 dark:bg-gray-800 rounded-lg w-full",children:o()}),e.jsx(R,{flag:n,closeModal:d.off,children:t?e.jsx(z,{avatar:(c=s==null?void 0:s.avatar)==null?void 0:c.toString(),setFlag:d}):null})]})},Q=({data:s})=>{const[r,i]=m.useState((s==null?void 0:s.description)||""),[t,a]=m.useState(r==null?void 0:r.length),n=c=>{const h=c.target.value;l.setFieldValue("description",h),i(h),a(h.length)},{isLoading:d,sendRequest:o}=j(),l=_({initialValues:{id:s==null?void 0:s.id,name:s==null?void 0:s.name,description:s==null?void 0:s.description},validationSchema:O().shape({name:N().matches(y.noBlank).required("Required"),description:N().matches(y.noBlank).required("Required")}),validateOnChange:!0,onSubmit:async c=>{const h={id:s==null?void 0:s.id,name:c==null?void 0:c.name,description:c==null?void 0:c.description};await o({type:f.UPDATE_CATEGORIES,data:h})}});return e.jsxs("form",{onSubmit:l.handleSubmit,children:[e.jsx("div",{className:"p-8 grid w-full items-center gap-4",children:e.jsxs("div",{className:"flex flex-col space-y-2 py-4",children:[e.jsxs("div",{className:"relative px-2",children:[e.jsx(v,{htmlFor:"name",className:"text-md text-title-foreground",children:"Name"}),e.jsx(U,{id:"name",name:"name",onBlur:l.handleBlur,value:l.values.name,onChange:l.handleChange,className:"w-full text-sm px-4 py-3  rounded-lg"})]}),e.jsx("div",{className:"relative ",children:e.jsx("div",{className:"grid w-full items-center gap-4",children:e.jsx("div",{className:"flex flex-col space-y-2",children:e.jsxs("div",{className:"relative px-2 py-2",children:[e.jsx(v,{htmlFor:"descriptions",className:"text-md text-title-foreground",children:"Bio"}),e.jsx(A,{id:"description",name:"description",className:"text-white",placeholder:"Tell us a little bit about yourself",maxLength:150,onBlur:l.handleBlur,value:l.values.description,onChange:n}),e.jsxs("div",{className:"float-right text-sm text-title-foreground",children:["Characters remaining: ",t,"/150"]})]})})})})]})}),e.jsxs("div",{className:"px-5 py-2 border-t flex justify-end items-center gap-2",children:[e.jsx("button",{type:"button",className:"px-5 py-1.5  float-right text-base font-medium rounded text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Close"}),d?e.jsxs(g,{disabled:!0,children:[e.jsx(M,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):e.jsx(g,{type:"submit",className:"w-fit bg-blue-600 text-white",disabled:l.isSubmitting||!l.isValid,children:"Update"})]})]})},te=()=>{const{id:s}=b(),{isLoading:r,sendRequest:i}=j(),t=C(n=>n.admin.categoriesById),a=n=>{i({type:f.GET_BLOG_CATEGORIES_BY_ID,slug:n})};return m.useEffect(()=>{s&&a(s)},[s]),e.jsx("div",{className:"container pl-24 h-full ",children:e.jsxs("div",{className:"bg-gray-800 rounded-md h-fit mt-20 shadow-2xl ",children:[e.jsx("div",{className:"flex flex-col p-6 py-4 gap-8",children:e.jsx(v,{className:"text-white text-2xl font-bold",children:"Categories Detail"})}),r?e.jsx(V,{}):t?e.jsx($,{data:t}):e.jsx("p",{children:"Loading..."})]})})};export{te as default};
