import{V as _,a6 as G,q as T,u as m,r as t,t as k,n as l,B as v,a5 as R,a7 as C,_ as c}from"./index-14a1a9db.js";import{G as E}from"./card-6264ce39.js";import"./hideBlog-71209dd3.js";import"./comment-19980e61.js";import"./Label-3d109c5d.js";import"./x-b3d2d062.js";const q=()=>{const{id:o}=_(),B=Number(o),{axiosJWT:d,accessToken:g}=G(),{sendRequest:u}=T(),e=m(a=>{var s;return(s=a==null?void 0:a.admin)==null?void 0:s.categoriesById}),[x,f]=t.useState(e==null?void 0:e.checkFollowCategory),[N,r]=t.useState(!1),[S,h]=t.useState(!1),[F,w]=t.useState(!1),[I,p]=t.useState(!1);t.useEffect(()=>{u({type:k.GET_BLOG_CATEGORIES_BY_ID,slug:o})},[B,N]);const n=m(a=>a.categories.blogSearch);t.useEffect(()=>{(async()=>{await u({type:k.GET_BLOG_CATEGORIES,slug:o})})()},[o,S,F,I]);const i=m(a=>a.categories.listBlog),j=async a=>{if(x){r(!0);const{body:s}=await C.followCategories(a,g,d);s!=null&&s.success?(c.success(s==null?void 0:s.message),f(!1),r(!1)):(console.log(s==null?void 0:s.message),c.error((s==null?void 0:s.message)||"Error"),r(!1))}else{r(!0);const{body:s}=await C.followCategories(a,g,d);s!=null&&s.success?(c.success(s==null?void 0:s.message),f(!0),r(!1)):(console.log(s==null?void 0:s.message),r(!1),c.error((s==null?void 0:s.message)||"Error"))}};return l.jsx("div",{className:"min-h-0 w-full",children:e&&l.jsx(l.Fragment,{children:l.jsx("section",{className:"py-16 ",children:l.jsxs("div",{className:"container max-w-6xl p-6 mx-auto space-y-6 sm:space-y-12",children:[l.jsxs("div",{className:"bg-gray-900 dark:bg-white/90 dark:text-black text-white flex flex-col mx-auto lg:flex-row",children:[l.jsx("div",{className:"w-full lg:w-1/3",style:{backgroundImage:`url(${e==null?void 0:e.avatar})`,backgroundPosition:"center center",backgroundSize:"cover"}}),l.jsxs("div",{className:"flex flex-col w-full p-6 lg:w-2/3 md:p-8 lg:p-12",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-8 h-8 mb-8 text-violet-400",children:l.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),l.jsx("h2",{className:"text-3xl font-semibold leadi",children:e==null?void 0:e.name}),l.jsx("p",{className:"mt-4 mb-8 text-sm",children:e==null?void 0:e.description}),x?l.jsx(v,{variant:"gradient",onClick:()=>{j(e==null?void 0:e.id)},className:"self-start text-lg rounded-xl",children:"Unfollow"}):l.jsx(v,{variant:"gradient",onClick:()=>{j(e==null?void 0:e.id)},className:"self-start text-lg rounded-xl",children:"Follow"})]})]}),l.jsx("div",{className:"grid justify-center grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:n&&n.length>0?n.map(a=>l.jsx(E,{data:a,setIsBookmark:h,setUnBookmark:w,setIsHide:p,idCategories:o},a.id)):i&&i.length>0?i.map(a=>l.jsx(E,{data:a,idCategories:o,setIsBookmark:h,setUnBookmark:w,setIsHide:p},a.id)):l.jsx(R,{})})]})})})})};export{q as default};
